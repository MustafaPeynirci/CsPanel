{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-11e8d814\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-lines-leaning\"\n}), /*#__PURE__*/_createTextVNode(\" Kategori > Düzenle\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"animate__animated animate__fadeIn\"\n};\nconst _hoisted_4 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleFormControlInput1\",\n  class: \"form-label\"\n}, \" Kategori Adı\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleFormControlTextarea1\",\n  class: \"form-label\"\n}, \"İçerik\", -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"formFile\",\n  class: \"form-label\"\n}, \"Resim\", -1\n/* HOISTED */\n));\n\nconst _hoisted_10 = {\n  class: \"img-input\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  class: \"newItemBtnGroup\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\" İptal \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"  BAŞLIK\"), _hoisted_2, _createCommentVNode(\"  FORM\"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => this.editCategory.name = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, this.editCategory.name]])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control\",\n    id: \"exampleFormControlTextarea1\",\n    rows: \"3\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => this.editCategory.content = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, this.editCategory.content]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"img\", {\n    src: this.editCategory.image,\n    class: \"img\",\n    alt: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_11), _createElementVNode(\"input\", {\n    class: \"form-control change-img-input\",\n    type: \"file\",\n    id: \"formFile\",\n    ref: \"file\",\n    onChange: _cache[2] || (_cache[2] = (...args) => $options.uploadImage && $options.uploadImage(...args))\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  )])]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_router_link, {\n    to: \"/category\",\n    class: \"btn closeBtn\"\n  }, {\n    default: _withCtx(() => [_hoisted_13]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"button\", {\n    class: \"btn kytBtn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.updateCategory && $options.updateCategory(...args))\n  }, \"Düzenle\")])])]);\n}","map":{"version":3,"mappings":";;;;;EACOA,KAAK,EAAC;;;gEAETC,oBAAqE,IAArE,EAAqE,IAArE,EAAqE,cAAjEA,oBAAyC,GAAzC,EAAyC;EAAtCD,KAAK,EAAC;AAAgC,CAAzC,CAAiE,gCAAxB,sBAAwB,CAArE;;AAAA;;;EAEKA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;gEACXC,oBAA8E,OAA9E,EAA8E;EAAvEC,GAAG,EAAC,0BAAmE;EAAxCF,KAAK,EAAC;AAAkC,CAA9E,EAAyD,eAAzD,EAAsE;AAAA;AAAtE;;;EAGKA,KAAK,EAAC;;;gEACXC,oBAA0E,OAA1E,EAA0E;EAAnEC,GAAG,EAAC,6BAA+D;EAAjCF,KAAK,EAAC;AAA2B,CAA1E,EAA4D,QAA5D,EAAkE;AAAA;AAAlE;;;EAGKA,KAAK,EAAC;;;gEACPC,oBAAsD,OAAtD,EAAsD;EAA/CC,GAAG,EAAC,UAA2C;EAAhCF,KAAK,EAAC;AAA0B,CAAtD,EAAyC,OAAzC,EAA8C;AAAA;AAA9C;;;EACKA,KAAK,EAAC;;;;EAKVA,KAAK,EAAC;;;kDAIV;;;;;uBAxBHG,oBA8BM,KA9BN,cA8BM,CA7BRC,+BA6BQ,EA5BJC,UA4BI,EA3BRD,6BA2BQ,EA1BJH,oBAyBM,KAzBN,cAyBM,CAxBNA,oBAGM,KAHN,cAGM,CAFNK,UAEM,kBADNL,oBAAyG,OAAzG,EAAyG;IAAlGM,IAAI,EAAC,OAA6F;IAArFP,KAAK,EAAC,cAA+E;IAAhEQ,EAAE,EAAC,0BAA6D;oEAApBC,aAAaC,OAAIC;EAAG,CAAzG;;EAAA,uBAAqFF,aAAaC,OAC5F,CAHN,CAwBM,EApBNT,oBAGM,KAHN,cAGM,CAFNW,UAEM,kBADNX,oBAAyH,UAAzH,EAAyH;IAA/GD,KAAK,EAAC,cAAyG;IAA1FQ,EAAE,EAAC,6BAAuF;IAAzDK,IAAI,EAAC,GAAoD;oEAAlCJ,aAAaK,UAAOH;EAAc,CAAzH;;EAAA,uBAAuFF,aAAaK,UAC9F,CAHN,CAoBM,EAhBNb,oBAMQ,KANR,cAMQ,CALJc,UAKI,EAJJd,oBAGM,KAHN,eAGM,CAFJA,oBAAuD,KAAvD,EAAuD;IAAjDe,GAAG,OAAOP,YAAP,CAAoBQ,KAA0B;IAAnBjB,KAAK,EAAC,KAAa;IAAPkB,GAAG,EAAC;EAAG,CAAvD;;EAAA,cAEI,EADJjB,oBAAyG,OAAzG,EAAyG;IAAlGD,KAAK,EAAC,+BAA4F;IAA5DO,IAAI,EAAC,MAAuD;IAAhDC,EAAE,EAAC,UAA6C;IAAlCW,GAAG,EAAC,MAA8B;IAAtBC,QAAM,yCAAEC,qDAAF;EAAgB,CAAzG;;EAAA,CACI,CAHN,CAII,CANR,CAgBM,EATNpB,oBAQM,KARN,eAQM,CAPNqB,aAKcC,sBALd,EAKc;IAJdC,EAAE,EAAC,WAIW;IAHdxB,KAAK,EAAC;EAGQ,CALd;sBAGC,MAED;;;;GALA,CAOM,EADNC,oBAAmE,QAAnE,EAAmE;IAA3DD,KAAK,EAAC,YAAqD;IAAvCyB,OAAK,yCAAEJ,2DAAF;EAAkC,CAAnE,EAAmD,SAAnD,CACM,CARN,CASM,CAzBN,CA0BI,CA9BN","names":["class","_createElementVNode","for","_createElementBlock","_createCommentVNode","_hoisted_2","_hoisted_5","type","id","editCategory","name","$event","_hoisted_7","rows","content","_hoisted_9","src","image","alt","ref","onChange","$options","_createVNode","_component_router_link","to","onClick"],"sourceRoot":"","sources":["/Users/gurhankoz/Projeler/CsPanel/teknokozPanel/src/views/Category/categoryEditView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n<!--  BAŞLIK-->\n    <h2><i class=\"fa-solid fa-lines-leaning\"></i> Kategori > Düzenle</h2>\n<!--  FORM-->\n    <div class=\"animate__animated animate__fadeIn\">\n    <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\"> Kategori Adı</label>\n    <input type=\"email\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"this.editCategory.name\" >\n    </div>\n    <div class=\"mb-3\">\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\">İçerik</label>\n    <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" v-model=\"this.editCategory.content\" ></textarea>\n    </div>\n    <div class=\"mb-3\">\n        <label for=\"formFile\" class=\"form-label\">Resim</label>\n        <div class=\"img-input\">\n          <img :src=\"this.editCategory.image\" class=\"img\" alt=\"\">\n          <input class=\"form-control change-img-input\" type=\"file\" id=\"formFile\" ref=\"file\" @change=\"uploadImage\" >\n        </div>\n      </div>\n    <div class=\"newItemBtnGroup\">\n    <router-link\n    to=\"/category\"\n    class=\"btn closeBtn\"\n    >\n    İptal\n    </router-link>\n    <button class=\"btn kytBtn\" @click=\"updateCategory\">Düzenle</button>\n    </div>\n    </div>\n  </div>\n</template>\n<script>\nimport router from \"@/router\";\nimport axios from \"axios\";\nexport default {\n  name: \"categoryEditView\",\n  data(){\n    return{\n      editCategory:{\n        name: '',\n        image: '',\n        content: '',\n        image1: '',\n      },\n    }\n  },\n  methods:{\n    updateCategory(){\n      if (this.editCategory.image1 !== ''){\n      }else {\n        this.editCategory.image1 = this.editCategory.image.split('http://127.0.0.1:8000/images/categories/');\n      }\n      axios.postForm('http://127.0.0.1:8000/api/category/'+this.$route.params.id,\n          {\n            name: this.editCategory.name,\n            content: this.editCategory.content,\n            image1: this.editCategory.image1,\n            _method: \"PUT\"\n          }\n          ,\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem('token'),\n              'Content-Type': \"multipart/form-data; charset=utf-8\",\n            }\n          }).then(response =>{\n        let timerInterval;\n        this.$swal.fire({\n          text: response.data,\n          timer: 1000,\n          toast:true,\n          position:'top-end',\n          icon:'success',\n          timerProgressBar: true,\n          showConfirmButton:false,\n          willClose: () => {\n            clearInterval(timerInterval)\n          }})\n        setTimeout(function(){\n          router.push(\"/category\");\n        },1600)\n      }).catch(error => {\n        let timerInterval;\n        this.$swal.fire({\n          text: error.response.data.message,\n          timer: 1000,\n          toast:true,\n          position:'top-end',\n          icon:'error',\n          timerProgressBar: true,\n          showConfirmButton:false,\n          willClose: () => {\n            clearInterval(timerInterval)\n          }})\n      })\n    },\n    // uploadFile(e) {\n    //   if(this.$refs.file.files[0] !== null){\n    //     this.editCategory.image1  = this.$refs.file.files[0]\n    //   }\n    // },\n    uploadImage(e){\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(image);\n      reader.onload = e =>{\n        this.previewImage = e.target.result;\n        this.editCategory.image1  = this.$refs.file.files[0]\n        this.editCategory.image = this.previewImage\n      };\n    }\n  },\n  computed:{\n    getEditCategory(){\n      axios.get('http://127.0.0.1:8000/api/category/' + this.$route.params.id,\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem('token'),\n            }\n          }).then(response => {\n          this.editCategory.name = response.data.name;\n          this.editCategory.content = response.data.content;\n          this.editCategory.image = response.data.image;\n      })\n    }\n  },\n  mounted() {\n    this.getEditCategory;\n  }\n}\n</script>\n<style scoped>\n.newItemBtnGroup{\n  text-align: end;\n}\n.btn{\n  border: none;\n  transition: transform .2s;\n}\n.kytBtn{\n  font-size: 13px;\n  color: white;\n  background-color: rgba(29, 156, 226, 0.83) !important;\n  padding: 8px 10px;\n}\n.closeBtn{\n  font-size: 13px;\n  margin: 8px;\n}\n.kytBtn:hover{\n  background-color: #0d7cb9 !important;\n}\n.closeBtn:hover{\n  color: #dc3545;\n}\n.img{\n  width: 200px;\n  max-width: 200px;\n  height: 150px;\n  border-radius: 5px;\n  object-fit: cover;\n  background-repeat: no-repeat;\n  box-shadow: 0 6px 12px rgb(0 0 0 / 18%);\n}\n.img-input{\n  display: flex;\n  justify-content: start;\n}\n.change-img-input{\n  margin: 25px;\n  width: 75%;\n  align-self: center;\n}\n@media only screen and (max-width: 768px) {\n .img-input{\n   display: flex;\n   flex-direction: column;\n   align-items: center;\n }\n}\n</style>"]},"metadata":{},"sourceType":"module"}