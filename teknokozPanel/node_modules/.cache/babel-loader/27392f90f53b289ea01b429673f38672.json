{"ast":null,"code":"import axios from \"axios\";\nimport router from \"@/router\";\nexport default {\n  name: \"newCategoryView\",\n\n  data() {\n    return {\n      newCategory: {\n        name: '',\n        image1: null,\n        content: ''\n      }\n    };\n  },\n\n  methods: {\n    createNewCategory() {\n      let formdata = new FormData();\n\n      if (this.newCategory.image1 !== null) {\n        formdata.append('image1', this.newCategory.image1);\n      }\n\n      formdata.append('name', this.newCategory.name);\n      formdata.append('content', this.newCategory.content);\n      axios.post('http://127.0.0.1:8000/api/category', formdata, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token'),\n          'Content-Type': \"multipart/form-data; charset=utf-8\"\n        }\n      }).then(response => {\n        const Toast = this.Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: toast => {\n            toast.addEventListener('mouseenter', this.Swal.stopTimer);\n            toast.addEventListener('mouseleave', this.Swal.resumeTimer);\n          }\n        });\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Signed in successfully'\n        });\n        setTimeout(function () {\n          router.push(\"/category\");\n        }, 1600);\n      }).catch(error => {\n        let timerInterval;\n        this.$swal.fire({\n          text: error.response.data.message,\n          timer: 1000,\n          width: '450px',\n          icon: 'error',\n          timerProgressBar: true,\n          showConfirmButton: false,\n          didOpen: () => {\n            this.Swal.showLoading();\n            const b = this.Swal.getHtmlContainer().querySelector('b');\n            timerInterval = setInterval(() => {\n              b.textContent = this.Swal.getTimerLeft();\n            }, 100);\n          },\n          willClose: () => {\n            clearInterval(timerInterval);\n          }\n        });\n      });\n    },\n\n    uploadFile(e) {\n      if (this.$refs.file.files[0] !== null) {\n        this.newCategory.image1 = this.$refs.file.files[0];\n      } else {\n        this.newCategory.image1 = null;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","router","name","data","newCategory","image1","content","methods","createNewCategory","formdata","FormData","append","post","headers","Authorization","localStorage","getItem","then","response","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","setTimeout","push","catch","error","timerInterval","$swal","text","message","width","showLoading","b","getHtmlContainer","querySelector","setInterval","textContent","getTimerLeft","willClose","clearInterval","uploadFile","e","$refs","file","files"],"sourceRoot":"","sources":["/Users/gurhankoz/Desktop/teknokozpanel/src/views/Category/newCategoryView.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"createNewCategory\">\n  <div class=\"divNewItem\">\n    <div class=\"mb-3\">\n      <label for=\"exampleFormControlInput1\" class=\"form-label\">Kategori Adı</label>\n      <input type=\"form-control\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"newCategory.name\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"formFile\" class=\"form-label\">Resim</label>\n      <input class=\"form-control\" type=\"file\" id=\"formFile\" ref=\"file\" @change=\"uploadFile\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"exampleFormControlTextarea1\" class=\"form-label\">İçerik</label>\n      <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" v-model=\"newCategory.content\"></textarea>\n    </div>\n    <div class=\"newItemBtnGroup\">\n      <button class=\"btn kytBtn\" type=\"submit\">Kaydet</button>\n      <router-link\n          to=\"/category\"\n          class=\"btn closeBtn\"\n      >\n        İptal\n      </router-link>\n    </div>\n  </div>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport router from \"@/router\";\n\nexport default {\n  name: \"newCategoryView\",\n  data(){\n    return{\n      newCategory:{\n        name: '',\n        image1: null,\n        content: '',\n      }\n    }\n  },\n   methods:{\n    createNewCategory(){\n      let formdata = new FormData();\n      if (this.newCategory.image1 !== null){\n        formdata.append('image1',this.newCategory.image1)\n      }\n      formdata.append('name', this.newCategory.name)\n      formdata.append('content', this.newCategory.content)\n      axios.post('http://127.0.0.1:8000/api/category',formdata\n          ,{\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem('token'),\n              'Content-Type': \"multipart/form-data; charset=utf-8\",\n            },\n          }).then(response => {\n\n\n\n        const Toast = this.Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', this.Swal.stopTimer)\n            toast.addEventListener('mouseleave', this.Swal.resumeTimer)\n          }\n        })\n\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Signed in successfully'\n        })\n\n\n\n\n\n\n\n\n\n\n\n\n        setTimeout(function(){\n          router.push(\"/category\");\n        },1600)\n      }).catch(error => {\n        let timerInterval;\n        this.$swal.fire({\n          text: error.response.data.message,\n          timer: 1000,\n          width: '450px',\n          icon:'error',\n          timerProgressBar: true,\n          showConfirmButton:false,\n          didOpen: () => {\n            this.Swal.showLoading()\n            const b = this.Swal.getHtmlContainer().querySelector('b')\n            timerInterval = setInterval(() => {\n              b.textContent = this.Swal.getTimerLeft()\n            }, 100)\n          },\n          willClose: () => {\n            clearInterval(timerInterval)\n          }})\n      })\n    },\n    uploadFile(e) {\n      if(this.$refs.file.files[0] !== null){\n        this.newCategory.image1  = this.$refs.file.files[0]\n      }else {\n        this.newCategory.image1  = null\n      }\n    },\n    },\n}\n</script>\n\n<style scoped>\n.newItemBtnGroup{\n  text-align: end;\n}\n.btn{\n  border: none;\n  transition: transform .2s;\n}\n.kytBtn{\n  background-color: #B1D7B4;\n  font-size: 15px;\n  margin: 8px;\n}\n.closeBtn{\n  background-color: #EB1D36;\n  font-size: 15px;\n  margin: 8px;\n}\n.kytBtn:hover{\n  transform: scale(1.1);\n}\n.closeBtn:hover{\n  transform: scale(1.1);\n}\n</style>"]},"metadata":{},"sourceType":"module"}