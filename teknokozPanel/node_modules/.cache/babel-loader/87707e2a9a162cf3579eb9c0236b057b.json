{"ast":null,"code":"import router from \"@/router\";\nimport axios from \"axios\";\nexport default {\n  name: \"newCategoryView\",\n\n  data() {\n    return {\n      newCategory: {\n        name: '',\n        image1: null,\n        content: ''\n      },\n      image: null\n    };\n  },\n\n  methods: {\n    createNewCategory() {\n      let formdata = new FormData();\n\n      if (this.newCategory.image1 !== null) {\n        formdata.append('image1', this.newCategory.image1);\n      }\n\n      formdata.append('name', this.newCategory.name);\n      formdata.append('content', this.newCategory.content);\n      axios.post('http://127.0.0.1:8000/api/category', formdata, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token'),\n          'Content-Type': \"multipart/form-data; charset=utf-8\"\n        }\n      }).then(response => {\n        let timerInterval;\n        this.$swal.fire({\n          toast: true,\n          text: response.data,\n          timer: 1100,\n          icon: 'success',\n          position: 'top-end',\n          timerProgressBar: true,\n          showConfirmButton: false,\n          willClose: () => {\n            clearInterval(timerInterval);\n          }\n        });\n        setTimeout(function () {\n          router.push(\"/category\");\n        }, 1600);\n      }).catch(error => {\n        let timerInterval;\n        this.$swal.fire({\n          text: error.response.data.message,\n          timer: 1000,\n          toast: true,\n          icon: 'error',\n          position: 'top-end',\n          timerProgressBar: true,\n          showConfirmButton: false,\n          willClose: () => {\n            clearInterval(timerInterval);\n          }\n        });\n      });\n    },\n\n    uploadFile(e) {\n      if (this.$refs.file.files[0] !== null) {\n        this.newCategory.image1 = this.$refs.file.files[0];\n      } else {\n        this.newCategory.image1 = null;\n      }\n    },\n\n    uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(image);\n\n      reader.onload = e => {\n        this.previewImage = e.target.result;\n        this.image = this.previewImage;\n        this.newCategory.image1 = this.$refs.file.files[0];\n      };\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["router","axios","name","data","newCategory","image1","content","image","methods","createNewCategory","formdata","FormData","append","post","headers","Authorization","localStorage","getItem","then","response","timerInterval","$swal","fire","toast","text","timer","icon","position","timerProgressBar","showConfirmButton","willClose","clearInterval","setTimeout","push","catch","error","message","uploadFile","e","$refs","file","files","uploadImage","target","reader","FileReader","readAsDataURL","onload","previewImage","result"],"sourceRoot":"","sources":["/Users/gurhankoz/Desktop/teknokozPanel/src/views/Category/newCategoryView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n<!--  BAŞLIK  -->\n    <h2><i class=\"fa-solid fa-lines-leaning\"></i> Kategori > Ekle</h2>\n<!--  FORM-->\n    <form @submit.prevent=\"createNewCategory\">\n    <div class=\"animate__animated animate__fadeIn\">\n    <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Kategori Adı</label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"newCategory.name\">\n    </div>\n    <div class=\"mb-3\">\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\">İçerik</label>\n    <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" v-model=\"newCategory.content\"></textarea>\n    </div>\n      <div class=\"mb-3\">\n        <label for=\"formFile\" class=\"form-label\">Resim</label>\n        <div class=\"img-input\">\n          <img :src=\"this.image\" class=\"img\" alt=\"Resim Ekle\" >\n          <input class=\"form-control change-img-input\" type=\"file\" id=\"formFile\" ref=\"file\" @change=\"uploadImage\" >\n        </div>\n      </div>\n    <div class=\"newItemBtnGroup\">\n    <router-link\n    to=\"/category\"\n    class=\"btn closeBtn\"\n    >\n    İptal\n    </router-link>\n    <button class=\"btn kytBtn\" type=\"submit\">Kaydet</button>\n    </div>\n  </div>\n  </form>\n  </div>\n</template>\n<script>\nimport router from \"@/router\";\nimport axios from \"axios\";\nexport default {\n  name: \"newCategoryView\",\n  data(){\n    return{\n      newCategory:{\n        name: '',\n        image1: null,\n        content: '',\n      },\n      image: null,\n    }\n  },\n   methods:{\n    createNewCategory(){\n      let formdata = new FormData();\n      if (this.newCategory.image1 !== null){\n        formdata.append('image1',this.newCategory.image1)\n      }\n      formdata.append('name', this.newCategory.name)\n      formdata.append('content', this.newCategory.content)\n      axios.post('http://127.0.0.1:8000/api/category',formdata\n          ,{\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem('token'),\n              'Content-Type': \"multipart/form-data; charset=utf-8\",\n            },\n          }).then(response => {\n            let timerInterval;\n            this.$swal.fire({\n              toast:true,\n              text: response.data,\n              timer: 1100,\n              icon:'success',\n              position:'top-end',\n              timerProgressBar: true,\n              showConfirmButton:false,\n              willClose: () => {\n                clearInterval(timerInterval)\n              }})\n        setTimeout(function(){\n          router.push(\"/category\");\n        },1600)\n      }).catch(error => {\n        let timerInterval;\n        this.$swal.fire({\n          text: error.response.data.message,\n          timer: 1000,\n          toast:true,\n          icon:'error',\n          position:'top-end',\n          timerProgressBar: true,\n          showConfirmButton:false,\n          willClose: () => {\n            clearInterval(timerInterval)\n          }})\n      })\n    },\n    uploadFile(e) {\n      if(this.$refs.file.files[0] !== null){\n        this.newCategory.image1  = this.$refs.file.files[0]\n      }else {\n        this.newCategory.image1  = null\n      }\n    },\n     uploadImage(e){\n       const image = e.target.files[0];\n       const reader = new FileReader();\n       reader.readAsDataURL(image);\n       reader.onload = e =>{\n         this.previewImage = e.target.result;\n         this.image = this.previewImage;\n         this.newCategory.image1  = this.$refs.file.files[0]\n       };\n     }\n    },\n}\n</script>\n<style scoped>\n.newItemBtnGroup{\n  text-align: end;\n}\n.btn{\n  border: none;\n  transition: transform .2s;\n}\n.kytBtn{\n  font-size: 13px;\n  color: white;\n  background-color: rgba(29, 156, 226, 0.83) !important;\n  padding: 8px 10px;\n}\n.closeBtn{\n  font-size: 13px;\n  margin: 8px;\n}\n.kytBtn:hover{\n  background-color: #0d7cb9 !important;\n}\n.closeBtn:hover{\n  color: #dc3545;\n}\n.img{\n  width: 200px;\n  max-width: 200px;\n  height: 150px;\n  border-radius: 5px;\n  object-fit: cover;\n  background-repeat: no-repeat;\n  box-shadow: 0 6px 12px rgb(0 0 0 / 18%);\n}\n.img-input{\n  display: flex;\n  justify-content: start;\n}\n.change-img-input{\n  margin: 25px;\n  width: 75%;\n  align-self: center;\n}\n@media only screen and (max-width: 768px) {\n  .img-input{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n}\nimg:before {\n  content: ' ';\n  display: block;\n  position: absolute;\n  height: 200px;\n  width: 200px;\n  background-image: url(\"../../assets/compack.png\");\n}\n</style>"]},"metadata":{},"sourceType":"module"}